<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·ªò ƒê·ªÄ √îN IOE K3 S·ªê: 11 (200 C√ÇU)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Nunito', sans-serif; background-color: #f8fafc; margin: 0; }
      .custom-scrollbar::-webkit-scrollbar { width: 6px; }
      .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
      .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
      @keyframes fadeIn { from { opacity: 0; transform: scale(0.99); } to { opacity: 1; transform: scale(1); } }
      .animate-fade-in { animation: fadeIn 0.15s ease-out forwards; }
      @keyframes slideUp { from { transform: translateY(8px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
      .animate-slide-up { animation: slideUp 0.2s ease-out forwards; }
      @keyframes bounceShort { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-2px); } }
      .animate-bounce-short { animation: bounceShort 1s infinite; }
    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3"
  }
}
</script>
</head>
<body class="antialiased">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      const QuestionType = { MC: 'MC', FIB: 'FIB', RE: 'RE' };
      const GameState = { START: 'START', PLAYING: 'PLAYING', FINISHED: 'FINISHED' };

      const QUIZ_DATA = [
        { id: 1, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2020-2021/Lop3/Captruong/Audio/3-tn-59.mp3", questionText: "What colour is ______?", options: ["they", "that", "it", "These"], correctAnswer: "it", explanation: "D·ªãch: N√≥ m√†u g√¨? D√πng 'it' cho v·∫≠t s·ªë √≠t." },
        { id: 2, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["My", "is", "blue.", "colour", "favourite"], correctAnswer: "My favourite colour is blue.", explanation: "D·ªãch: M√†u y√™u th√≠ch c·ªßa t√¥i l√† m√†u xanh d∆∞∆°ng." },
        { id: 3, type: QuestionType.FIB, questionText: "·∫¢nh: _ _ _ _", correctAnswer: "fish", explanation: "D·ªãch: Con c√°." },
        { id: 4, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["fish", "the bottle.", "is", "The", "in"], correctAnswer: "The fish is in the bottle.", explanation: "D·ªãch: Con c√° ·ªü trong chai." },
        { id: 5, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206388628712277_Audio.mp3", questionText: "... your books, please.", options: ["open", "listen", "close", "Go"], correctAnswer: "open", explanation: "D·ªãch: H√£y m·ªü s√°ch ra." },
        { id: 6, type: QuestionType.FIB, questionText: "W_ _ t is that? ‚Äì It‚Äôs a robot.", correctAnswer: "ha", explanation: "D·ªãch: C√°i kia l√† c√°i g√¨? - ƒê√≥ l√† m·ªôt con r√¥ b·ªët." },
        { id: 7, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["from,", "Where", "you", "are", "Tommy?"], correctAnswer: "Where are you from, Tommy?", explanation: "D·ªãch: B·∫°n ƒë·∫øn t·ª´ ƒë√¢u, Tommy?" },
        { id: 8, type: QuestionType.FIB, questionText: "th_ nks", correctAnswer: "a", explanation: "D·ªãch: C·∫£m ∆°n." },
        { id: 9, type: QuestionType.FIB, questionText: "How are y_ _ ?", correctAnswer: "ou", explanation: "D·ªãch: B·∫°n kh·ªèe kh√¥ng?" },
        { id: 10, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2018/11/30/636791928416484779_Audio.mp3", questionText: "It‚Äôs beau_ _ _ _ _ .", correctAnswer: "tiful", explanation: "D·ªãch: N√≥ th·∫≠t ƒë·∫πp." },
        { id: 11, type: QuestionType.MC, questionText: "... your name?", options: ["Who", "How", "What‚Äôs", "Why"], correctAnswer: "What‚Äôs", explanation: "D·ªãch: T√™n b·∫°n l√† g√¨?" },
        { id: 12, type: QuestionType.MC, questionText: "Choose the odd one out:", options: ["May", "July", "April", "Jimmy"], correctAnswer: "Jimmy", explanation: "D·ªãch: Jimmy l√† t√™n ng∆∞·ªùi, c√°c t·ª´ kh√°c l√† th√°ng." },
        { id: 13, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["this.", "a rubber.", "Look", "It‚Äôs", "at"], correctAnswer: "Look at this. It‚Äôs a rubber.", explanation: "D·ªãch: Nh√¨n c√°i n√†y n√†y. N√≥ l√† m·ªôt c·ª•c t·∫©y." },
        { id: 14, type: QuestionType.FIB, questionText: "Be q_ _ et, please.", correctAnswer: "ui", explanation: "D·ªãch: H√£y gi·ªØ im l·∫∑ng." },
        { id: 15, type: QuestionType.FIB, questionText: "Cl_ _ n your teeth, please.", correctAnswer: "ea", explanation: "D·ªãch: H√£y ƒë√°nh rƒÉng." },
        { id: 16, type: QuestionType.MC, questionText: "Who is he?", options: ["She is Mary", "He my friend", "She my friend", "He‚Äôs Tom"], correctAnswer: "He‚Äôs Tom", explanation: "D·ªãch: Anh ·∫•y l√† ai? - Anh ·∫•y l√† Tom." },
        { id: 17, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["are", "on the table?", "the books", "What colour"], correctAnswer: "What colour are the books on the table?", explanation: "D·ªãch: Nh·ªØng cu·ªën s√°ch tr√™n b√†n m√†u g√¨?" },
        { id: 18, type: QuestionType.MC, questionText: "Choose the odd one out:", options: ["white", "new", "yellow", "green"], correctAnswer: "new", explanation: "D·ªãch: New l√† t√≠nh t·ª´ t√≠nh ch·∫•t, c√°c t·ª´ kh√°c l√† m√†u s·∫Øc." },
        { id: 19, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2018/11/30/636791915125268802_Audio.mp3", questionText: "Do you _ _ _ _ at break time?", correctAnswer: "skip", explanation: "D·ªãch: B·∫°n c√≥ nh·∫£y d√¢y v√†o gi·ªù gi·∫£i lao kh√¥ng?" },
        { id: 20, type: QuestionType.FIB, questionText: "I‚Äôm fine. How ab_ _ t you?", correctAnswer: "ou", explanation: "D·ªãch: T√¥i kh·ªèe, c√≤n b·∫°n th√¨ sao?" },
        { id: 21, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["They", "yellow.", "are"], correctAnswer: "They are yellow.", explanation: "D·ªãch: Ch√∫ng m√†u v√†ng." },
        { id: 22, type: QuestionType.MC, questionText: "Choose the odd one out:", options: ["mother", "father", "brother", "teacher"], correctAnswer: "teacher", explanation: "D·ªãch: Teacher l√† ngh·ªÅ nghi·ªáp, c√°c t·ª´ kh√°c l√† th√†nh vi√™n gia ƒë√¨nh." },
        { id: 23, type: QuestionType.MC, questionText: "I‚Äôd like some strawberries. ‚Äì Here ‚Ä¶ are.", options: ["they", "them", "those", "these"], correctAnswer: "they", explanation: "D·ªãch: T√¥i mu·ªën v√†i qu·∫£ d√¢u. - Ch√∫ng ƒë√¢y." },
        { id: 24, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["new", "The school library", "nice.", "is", "and"], correctAnswer: "The school library is new and nice.", explanation: "D·ªãch: Th∆∞ vi·ªán tr∆∞·ªùng m·ªõi v√† ƒë·∫πp." },
        { id: 25, type: QuestionType.MC, questionText: "... you like some bread? ‚Äì No, I don't.", options: ["Does", "Do", "Are", "Is"], correctAnswer: "Do", explanation: "D·ªãch: B·∫°n c√≥ mu·ªën ƒÉn b√°nh m√¨ kh√¥ng?" },
        { id: 26, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["Good", "morning,", "teacher!"], correctAnswer: "Good morning, teacher!", explanation: "D·ªãch: Ch√†o bu·ªïi s√°ng c√¥ gi√°o!" },
        { id: 27, type: QuestionType.FIB, questionText: "Nice _ _ meet you, Alan.", correctAnswer: "to", explanation: "D·ªãch: R·∫•t vui ƒë∆∞·ª£c g·∫∑p b·∫°n, Alan." },
        { id: 28, type: QuestionType.FIB, questionText: "Wa_ _ your hands, please.", correctAnswer: "sh", explanation: "D·ªãch: H√£y r·ª≠a tay." },
        { id: 29, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206313250471882_Audio.mp3", questionText: "I‚Äôve got two ... .", options: ["hats", "apples", "oranges", "Balls"], correctAnswer: "apples", explanation: "D·ªãch: T√¥i c√≥ hai qu·∫£ t√°o." },
        { id: 30, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["my", "This", "school", "is", "library."], correctAnswer: "This is my school library.", explanation: "D·ªãch: ƒê√¢y l√† th∆∞ vi·ªán tr∆∞·ªùng t√¥i." },
        { id: 31, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["She", "every", "afternoon.", "does", "puzzles"], correctAnswer: "She does puzzles every afternoon.", explanation: "D·ªãch: C√¥ ·∫•y ch∆°i x·∫øp h√¨nh m·ªói chi·ªÅu." },
        { id: 32, type: QuestionType.FIB, questionText: "Listen to the teac_ er.", correctAnswer: "h", explanation: "D·ªãch: H√£y nghe gi√°o vi√™n." },
        { id: 33, type: QuestionType.FIB, questionText: "L_ _ k at the board.", correctAnswer: "oo", explanation: "D·ªãch: Nh√¨n l√™n b·∫£ng." },
        { id: 34, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["go", "to school.", "This is", "we", "the way"], correctAnswer: "This is the way we go to school.", explanation: "D·ªãch: ƒê√¢y l√† con ƒë∆∞·ªùng ch√∫ng t√¥i ƒëi h·ªçc." },
        { id: 35, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["is", "That", "bicycle.", "a"], correctAnswer: "That is a bicycle.", explanation: "D·ªãch: Kia l√† m·ªôt chi·∫øc xe ƒë·∫°p." },
        { id: 36, type: QuestionType.FIB, questionText: "·∫¢nh: We learn P.E in the _ _ _ . It is very large.", correctAnswer: "gym", explanation: "D·ªãch: Ch√∫ng t√¥i h·ªçc th·ªÉ d·ª•c ·ªü nh√† thi ƒë·∫•u." },
        { id: 37, type: QuestionType.MC, questionText: "‚Ä¶ make a mess in class.", options: ["Are", "Is", "Do", "Don't"], correctAnswer: "Don't", explanation: "D·ªãch: ƒê·ª´ng l√†m b·ª´a b·ªôn trong l·ªõp." },
        { id: 38, type: QuestionType.FIB, questionText: "This is Richard. _ _ is my new friend.", correctAnswer: "He", explanation: "D·ªãch: ƒê√¢y l√† Richard. Anh ·∫•y l√† b·∫°n m·ªõi c·ªßa t√¥i." },
        { id: 39, type: QuestionType.MC, questionText: "Good morning teacher! - ... .", options: ["Goodbye", "See you later", "Good morning", "Fine, thanks"], correctAnswer: "Good morning", explanation: "D·ªãch: Ch√†o bu·ªïi s√°ng gi√°o vi√™n!" },
        { id: 40, type: QuestionType.FIB, questionText: "What‚Äôs _ _ _ _ name? - My name is Peter.", correctAnswer: "your", explanation: "D·ªãch: T√™n b·∫°n l√† g√¨?" },
        { id: 41, type: QuestionType.FIB, questionText: "Henry doesn‚Äôt work _ _ Saturday and Sunday.", correctAnswer: "on", explanation: "D·ªãch: Henry kh√¥ng l√†m vi·ªác v√†o th·ª© B·∫£y v√† Ch·ªß Nh·∫≠t." },
        { id: 42, type: QuestionType.FIB, questionText: "This is _ book.", correctAnswer: "a", explanation: "D·ªãch: ƒê√¢y l√† m·ªôt cu·ªën s√°ch." },
        { id: 43, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["Hello.", "Mary.", "I", "am"], correctAnswer: "Hello. I am Mary.", explanation: "D·ªãch: Xin ch√†o. T√¥i l√† Mary." },
        { id: 44, type: QuestionType.MC, questionText: "Ten, eleven, twelve, ..., fourteen, fifteen. The missing number is:", options: ["12", "13", "14", "15"], correctAnswer: "13", explanation: "D·ªãch: S·ªë c√≤n thi·∫øu l√† 13 (thirteen)." },
        { id: 45, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["like", "doesn‚Äôt", "tennis.", "Mike"], correctAnswer: "Mike doesn‚Äôt like tennis.", explanation: "D·ªãch: Mike kh√¥ng th√≠ch tennis." },
        { id: 46, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["you", "tomorrow,", "See", "Peter."], correctAnswer: "See you tomorrow, Peter.", explanation: "D·ªãch: H·∫πn g·∫∑p l·∫°i b·∫°n ng√†y mai, Peter." },
        { id: 47, type: QuestionType.FIB, questionText: "Her ruler is short, but my ruler is l_ _ _ .", correctAnswer: "ong", explanation: "D·ªãch: Th∆∞·ªõc c·ªßa c√¥ ·∫•y ng·∫Øn, c√≤n th∆∞·ªõc c·ªßa t√¥i d√†i." },
        { id: 48, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2020-2021/Lop3/Captruong/Audio/2-tn-26.mp3", questionText: "______ are my notebooks.", options: ["They", "These", "Those", "That"], correctAnswer: "Those", explanation: "D·ªãch: Kia l√† nh·ªØng cu·ªën v·ªü c·ªßa t√¥i." },
        { id: 49, type: QuestionType.FIB, questionText: "N_ _ e to meet you, Sam.", correctAnswer: "ic", explanation: "D·ªãch: R·∫•t vui ƒë∆∞·ª£c g·∫∑p b·∫°n, Sam." },
        { id: 50, type: QuestionType.FIB, questionText: "Miss Lan is my new t_ _ _ her.", correctAnswer: "eac", explanation: "D·ªãch: C√¥ Lan l√† gi√°o vi√™n m·ªõi c·ªßa t√¥i." },
        { id: 51, type: QuestionType.FIB, questionText: "Peter _ _ from America.", correctAnswer: "is", explanation: "D·ªãch: Peter ƒë·∫øn t·ª´ M·ªπ." },
        { id: 52, type: QuestionType.FIB, questionText: "BOA_ D", correctAnswer: "R", explanation: "D·ªãch: C√°i b·∫£ng." },
        { id: 53, type: QuestionType.MC, questionText: "My ... is Tim. Nice to meet you.", options: ["name‚Äôs", "names", "name", "namese"], correctAnswer: "name", explanation: "D·ªãch: T√™n t√¥i l√† Tim." },
        { id: 54, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2018/1/4/636506591897527797_Audio.mp3", questionText: "The girl‚Äôs favourite toy is ‚Ä¶.", options: ["kite", "teddy", "doll", "Robot"], correctAnswer: "teddy", explanation: "D·ªãch: ƒê·ªì ch∆°i y√™u th√≠ch c·ªßa c√¥ b√© l√† g·∫•u b√¥ng." },
        { id: 55, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206303416526610_Audio.mp3", questionText: "What are these? - They are my _ _ _ _ _ _ _ .", correctAnswer: "pencils", explanation: "D·ªãch: ƒê√¢y l√† c√°i g√¨? - Ch√∫ng l√† nh·ªØng chi·∫øc b√∫t ch√¨ c·ªßa t√¥i." },
        { id: 56, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["backpack", "My", "is", "green.", "new"], correctAnswer: "My new backpack is green.", explanation: "D·ªãch: C√°i ba l√¥ m·ªõi c·ªßa t√¥i m√†u xanh l√° c√¢y." },
        { id: 57, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["are", "Huong?", "How", "you,", "old"], correctAnswer: "How old are you, Huong?", explanation: "D·ªãch: B·∫°n bao nhi√™u tu·ªïi v·∫≠y H∆∞∆°ng?" },
        { id: 58, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["is long.", "Her", "pencil"], correctAnswer: "Her pencil is long.", explanation: "D·ªãch: B√∫t ch√¨ c·ªßa c√¥ ·∫•y d√†i." },
        { id: 59, type: QuestionType.FIB, questionText: "·∫¢nh: BAD_ INTON", correctAnswer: "M", explanation: "D·ªãch: M√¥n c·∫ßu l√¥ng." },
        { id: 60, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["are", "in", "the gym.", "My friends"], correctAnswer: "My friends are in the gym.", explanation: "D·ªãch: Nh·ªØng ng∆∞·ªùi b·∫°n c·ªßa t√¥i ƒëang ·ªü trong ph√≤ng th·ªÉ d·ª•c." },
        { id: 61, type: QuestionType.MC, questionText: "Is this a pencil box? ‚Äì ..., it is.", options: ["No", "Not", "Yes", "No‚Äôs"], correctAnswer: "Yes", explanation: "D·ªãch: ƒê√¢y c√≥ ph·∫£i h·ªôp b√∫t ch√¨ kh√¥ng? - V√¢ng, ƒë√∫ng v·∫≠y." },
        { id: 62, type: QuestionType.FIB, questionText: "Write w_ _ t the teacher says.", correctAnswer: "ha", explanation: "D·ªãch: Vi·∫øt nh·ªØng g√¨ gi√°o vi√™n n√≥i." },
        { id: 63, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["the school garden.", "are", "in", "They"], correctAnswer: "They are in the school garden.", explanation: "D·ªãch: H·ªç ƒëang ·ªü trong v∆∞·ªùn tr∆∞·ªùng." },
        { id: 64, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2016/11/30/636160982546969645_Audio.mp3", questionText: "This is a ‚Ä¶ .", options: ["dot", "dog", "door", "Down"], correctAnswer: "dog", explanation: "D·ªãch: ƒê√¢y l√† m·ªôt con ch√≥." },
        { id: 65, type: QuestionType.FIB, questionText: "Good ni_ _ _ , children.", correctAnswer: "ght", explanation: "D·ªãch: Ch√∫c c√°c con ng·ªß ngon." },
        { id: 66, type: QuestionType.MC, questionText: "... this a chair? ‚Äì No, it isn‚Äôt.", options: ["What", "How", "Is", "Are"], correctAnswer: "Is", explanation: "D·ªãch: ƒê√¢y c√≥ ph·∫£i l√† c√°i gh·∫ø kh√¥ng?" },
        { id: 67, type: QuestionType.MC, questionText: "Lo...k at the board, please.", options: ["u", "o", "e", "i"], correctAnswer: "o", explanation: "D·ªãch: Look: Nh√¨n." },
        { id: 68, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["new", "my", "book.", "is", "This"], correctAnswer: "This is my new book.", explanation: "D·ªãch: ƒê√¢y l√† cu·ªën s√°ch m·ªõi c·ªßa t√¥i." },
        { id: 69, type: QuestionType.MC, questionText: "Choose the odd one out:", options: ["young", "out", "big", "short"], correctAnswer: "out", explanation: "D·ªãch: Out l√† tr·∫°ng t·ª´, c√°c t·ª´ kh√°c l√† t√≠nh t·ª´ mi√™u t·∫£." },
        { id: 70, type: QuestionType.FIB, questionText: "I‚Äôm fine, thanks. How a_ _ _ t you?", correctAnswer: "bou", explanation: "D·ªãch: T√¥i kh·ªèe, c·∫£m ∆°n. C√≤n b·∫°n?" },
        { id: 71, type: QuestionType.MC, questionText: "How do you sp_ll your name?", options: ["e", "o", "u", "a"], correctAnswer: "e", explanation: "D·ªãch: Spell: ƒê√°nh v·∫ßn." },
        { id: 72, type: QuestionType.FIB, questionText: "What is _ _ _ _ name? - My name is Tom.", correctAnswer: "your", explanation: "D·ªãch: T√™n b·∫°n l√† g√¨?" },
        { id: 73, type: QuestionType.MC, questionText: "What's your name? - ______ name is Nam.", options: ["My", "His", "Her", "Your"], correctAnswer: "My", explanation: "D·ªãch: T√™n t√¥i l√† Nam." },
        { id: 74, type: QuestionType.FIB, questionText: "·∫¢nh: _ _ _ CATS", correctAnswer: "TEN", explanation: "D·ªãch: M∆∞·ªùi con m√®o." },
        { id: 75, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/Thi_cac_cap/2020-2021/Lop3/Captruong/Audio/3-tn-24.mp3", questionText: "Good ______, class.", options: ["afternoon", "evening", "morning", "Bye"], correctAnswer: "morning", explanation: "D·ªãch: Ch√†o bu·ªïi s√°ng c·∫£ l·ªõp." },
        { id: 76, type: QuestionType.MC, questionText: "pencil c__se", options: ["a", "e", "i", "o"], correctAnswer: "a", explanation: "D·ªãch: Pencil case: H·ªôp b√∫t." },
        { id: 77, type: QuestionType.MC, questionText: "How are ...u?", options: ["yu", "ye", "yo", "yi"], correctAnswer: "yo", explanation: "D·ªãch: B·∫°n kh·ªèe kh√¥ng?" },
        { id: 78, type: QuestionType.MC, questionText: "I‚Äôm fine, thank ... .", options: ["you", "you‚Äôre", "you are", "your"], correctAnswer: "you", explanation: "D·ªãch: T√¥i kh·ªèe, c·∫£m ∆°n b·∫°n." },
        { id: 79, type: QuestionType.MC, questionText: "This gift is for you. - ... .", options: ["How are you", "Fine, thanks", "Thank you", "Thank"], correctAnswer: "Thank you", explanation: "D·ªãch: M√≥n qu√† n√†y cho b·∫°n. - C·∫£m ∆°n b·∫°n." },
        { id: 80, type: QuestionType.FIB, questionText: "·∫¢nh: BACKPA_ _", correctAnswer: "CK", explanation: "D·ªãch: C√°i ba l√¥." },
        { id: 81, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2018/1/2/636504891883436741_Audio.mp3", questionText: "He plays c_ _ _ _ at break time.", correctAnswer: "hess", explanation: "D·ªãch: Anh ·∫•y ch∆°i c·ªù v√†o gi·ªù gi·∫£i lao." },
        { id: 82, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["are", "Their", "brown.", "backpacks"], correctAnswer: "Their backpacks are brown.", explanation: "D·ªãch: Nh·ªØng c√°i ba l√¥ c·ªßa h·ªç m√†u n√¢u." },
        { id: 83, type: QuestionType.FIB, questionText: "Happy birthday _ _ you, Tommy.", correctAnswer: "to", explanation: "D·ªãch: Ch√∫c m·ª´ng sinh nh·∫≠t b·∫°n." },
        { id: 84, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["Can", "I", "the door?", "open"], correctAnswer: "Can I open the door?", explanation: "D·ªãch: T√¥i c√≥ th·ªÉ m·ªü c·ª≠a kh√¥ng?" },
        { id: 85, type: QuestionType.FIB, questionText: "This is _ banana.", correctAnswer: "a", explanation: "D·ªãch: ƒê√¢y l√† m·ªôt qu·∫£ chu·ªëi." },
        { id: 86, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["in the playground.", "My friends", "and I", "are"], correctAnswer: "My friends and I are in the playground.", explanation: "D·ªãch: T√¥i v√† c√°c b·∫°n t√¥i ƒëang ·ªü s√¢n ch∆°i." },
        { id: 87, type: QuestionType.MC, questionText: "This is ... ruler.", options: ["a", "an", "and", "end"], correctAnswer: "a", explanation: "D·ªãch: ƒê√¢y l√† m·ªôt c√°i th∆∞·ªõc k·∫ª." },
        { id: 88, type: QuestionType.FIB, questionText: "·∫¢nh: AR_ ROOM", correctAnswer: "T", explanation: "D·ªãch: Ph√≤ng m·ªπ thu·∫≠t." },
        { id: 89, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["is", "new and big.", "My", "school"], correctAnswer: "My school is new and big.", explanation: "D·ªãch: Tr∆∞·ªùng c·ªßa t√¥i m·ªõi v√† to." },
        { id: 90, type: QuestionType.FIB, questionText: "·∫¢nh: _ UBBER", correctAnswer: "R", explanation: "D·ªãch: C·ª•c t·∫©y." },
        { id: 91, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206305601154447_Audio.mp3", questionText: "There are _ _ _ _ books in the bookcase.", correctAnswer: "five", explanation: "D·ªãch: C√≥ nƒÉm cu·ªën s√°ch tr√™n gi√° s√°ch." },
        { id: 92, type: QuestionType.MC, questionText: "It ... Oxford Primary school.", options: ["is", "a", "are", "an"], correctAnswer: "is", explanation: "D·ªãch: ƒê√≥ l√† tr∆∞·ªùng ti·ªÉu h·ªçc Oxford." },
        { id: 93, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["is", "Minh.", "my friend.", "This", "He‚Äôs"], correctAnswer: "This is Minh. He‚Äôs my friend.", explanation: "D·ªãch: ƒê√¢y l√† Minh. C·∫≠u ·∫•y l√† b·∫°n c·ªßa t√¥i." },
        { id: 94, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["song.", "that", "like", "don't", "I"], correctAnswer: "I don't like that song.", explanation: "D·ªãch: T√¥i kh√¥ng th√≠ch b√†i h√°t ƒë√≥." },
        { id: 95, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206375919993955_Audio.mp3", questionText: "Listen and tick:", options: ["Cats", "Cars", "Buses", "Pets"], correctAnswer: "Pets", explanation: "D·ªãch: C·∫£ Mary v√† Tom ƒë·ªÅu r·∫•t y√™u th√∫ c∆∞ng." },
        { id: 96, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206393279080445_Audio.mp3", questionText: "My _ _ _ _ _ _ _ _ _ is large.", correctAnswer: "classroom", explanation: "D·ªãch: L·ªõp h·ªçc c·ªßa t√¥i r·ªông." },
        { id: 97, type: QuestionType.MC, questionText: "‚Ä¶ do you spell your name?", options: ["How", "What", "Who", "Why"], correctAnswer: "How", explanation: "D·ªãch: B·∫°n ƒë√°nh v·∫ßn t√™n nh∆∞ th·∫ø n√†o?" },
        { id: 98, type: QuestionType.MC, questionText: "Is this a notebook? ‚Ä¶, it is.", options: ["No", "Not", "Yes", "No, it is"], correctAnswer: "Yes", explanation: "D·ªãch: ƒê√¢y c√≥ ph·∫£i quy·ªÉn v·ªü kh√¥ng? - V√¢ng." },
        { id: 99, type: QuestionType.FIB, questionText: "Don't talk _ _ class!", correctAnswer: "in", explanation: "D·ªãch: ƒê·ª´ng n√≥i chuy·ªán trong l·ªõp!" },
        { id: 100, type: QuestionType.MC, questionText: "‚Ä¶ many books are there on the bookshelf?", options: ["Who", "How", "Where", "What"], correctAnswer: "How", explanation: "D·ªãch: C√≥ bao nhi√™u cu·ªën s√°ch tr√™n gi√°?" },
        // ... C·∫≠p nh·∫≠t cho ƒë·∫øn c√¢u 200 ...
        { id: 101, type: QuestionType.MC, questionText: "Choose the odd one out", options: ["Pig", "Dog", "Cat", "Book"], correctAnswer: "Book", explanation: "D·ªãch: Book l√† ƒë·ªì v·∫≠t, c√°c t·ª´ kh√°c l√† con v·∫≠t." },
        { id: 102, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["is", "The", "bookshelf", "over", "there."], correctAnswer: "The bookshelf is over there.", explanation: "D·ªãch: Gi√° s√°ch ·ªü ƒë·∫±ng kia." },
        { id: 103, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206309915810025_Audio.mp3", questionText: "Listen and tick:", options: ["pencil", "pen case", "pen", "ball"], correctAnswer: "pen", explanation: "D·ªãch: ƒê√¢y l√† c√°i b√∫t m·ª±c c·ªßa t√¥i." },
        { id: 104, type: QuestionType.FIB, questionText: "A: _ _ _ _ ‚Äôs it? - B: It‚Äôs my notebook.", correctAnswer: "What", explanation: "D·ªãch: ƒê√≥ l√† c√°i g√¨?" },
        { id: 105, type: QuestionType.MC, questionText: "That's Susan. ___ is eight.", options: ["Her", "She", "Him", "His"], correctAnswer: "She", explanation: "D·ªãch: Kia l√† Susan. C√¥ ·∫•y 8 tu·ªïi." },
        { id: 106, type: QuestionType.MC, questionText: "‚Ä¶ out your book, children.", options: ["Take", "To take", "Takes", "Taking"], correctAnswer: "Take", explanation: "D·ªãch: L·∫•y s√°ch ra n√†o c√°c con." },
        { id: 107, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["books,", "please.", "Show", "me", "your"], correctAnswer: "Show me your books, please.", explanation: "D·ªãch: L√†m ∆°n h√£y cho t√¥i xem s√°ch c·ªßa b·∫°n." },
        { id: 108, type: QuestionType.FIB, questionText: "That is a br_ _ n book.", correctAnswer: "ow", explanation: "D·ªãch: Kia l√† m·ªôt cu·ªën s√°ch m√†u n√¢u." },
        { id: 109, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["How many", "your school bag?", "books", "in", "are there"], correctAnswer: "How many books are there in your school bag?", explanation: "D·ªãch: C√≥ bao nhi√™u cu·ªën s√°ch trong c·∫∑p c·ªßa b·∫°n?" },
        { id: 110, type: QuestionType.MC, questionText: "Good morning, Peter. - ... .", options: ["Good morning, Jean", "Good night, Jean", "My name‚Äôs Jean", "Jean, this is my pen"], correctAnswer: "Good morning, Jean", explanation: "D·ªãch: Ch√†o bu·ªïi s√°ng Peter. - Ch√†o bu·ªïi s√°ng Jean." },
        { id: 111, type: QuestionType.MC, questionText: "How ...re you?", options: ["e", "s", "a", "o"], correctAnswer: "a", explanation: "D·ªãch: are." },
        { id: 112, type: QuestionType.FIB, questionText: "Linda and her sister like jumping rope in _ _ _ _ _ free time.", correctAnswer: "their", explanation: "D·ªãch: Linda v√† ch·ªã c√¥ ·∫•y th√≠ch nh·∫£y d√¢y l√∫c r·∫£nh." },
        { id: 113, type: QuestionType.FIB, questionText: "H_ _ ‚Äôs the weather in Hanoi?", correctAnswer: "ow", explanation: "D·ªãch: Th·ªùi ti·∫øt ·ªü H√† N·ªôi th·∫ø n√†o?" },
        { id: 114, type: QuestionType.MC, questionText: "Let‚Äôs play with ‚Ä¶ .", options: ["she", "he", "me", "see"], correctAnswer: "me", explanation: "D·ªãch: H√£y ch∆°i v·ªõi t·ªõ n√†o." },
        { id: 115, type: QuestionType.FIB, questionText: "It‚Äôs su_ ny in Hue.", correctAnswer: "n", explanation: "D·ªãch: ·ªû Hu·∫ø tr·ªùi c√≥ n·∫Øng." },
        { id: 116, type: QuestionType.MC, questionText: "Bye. ___ you soon.", options: ["See", "Get", "Meet", "Have"], correctAnswer: "See", explanation: "D·ªãch: T·∫°m bi·ªát. H·∫πn s·ªõm g·∫∑p l·∫°i." },
        { id: 117, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["answer,", "children.", "Circle", "the"], correctAnswer: "Circle the answer, children.", explanation: "D·ªãch: C√°c con h√£y khoanh tr√≤n ƒë√°p √°n." },
        { id: 118, type: QuestionType.MC, questionText: "Jenny has t...o dolls.", options: ["u", "w", "y", "o"], correctAnswer: "w", explanation: "D·ªãch: two (hai)." },
        { id: 119, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["you.", "fine,", "I‚Äôm", "thank"], correctAnswer: "I‚Äôm fine, thank you.", explanation: "D·ªãch: T√¥i kh·ªèe, c·∫£m ∆°n b·∫°n." },
        { id: 120, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["Please", "books.", "close", "your"], correctAnswer: "Please close your books.", explanation: "D·ªãch: L√†m ∆°n h√£y ƒë√≥ng s√°ch l·∫°i." },
        { id: 121, type: QuestionType.MC, questionText: "·∫¢nh: Look! That flower is ....", options: ["pink", "blue", "green", "black"], correctAnswer: "pink", explanation: "D·ªãch: Nh√¨n k√¨a! B√¥ng hoa kia m√†u h·ªìng." },
        { id: 122, type: QuestionType.FIB, questionText: "APP_ E", correctAnswer: "L", explanation: "D·ªãch: Qu·∫£ t√°o." },
        { id: 123, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["a book.", "It is", "It isn‚Äôt", "a notebook."], correctAnswer: "It isn‚Äôt a notebook. It is a book.", explanation: "D·ªãch: N√≥ kh√¥ng ph·∫£i quy·ªÉn v·ªü. N√≥ l√† m·ªôt cu·ªën s√°ch." },
        { id: 124, type: QuestionType.MC, questionText: "Odd one out:", options: ["footballer", "singer", "teacher", "cooker"], correctAnswer: "cooker", explanation: "D·ªãch: Cooker l√† n·ªìi c∆°m ƒëi·ªán, c√°c t·ª´ kh√°c l√† ngh·ªÅ nghi·ªáp." },
        { id: 125, type: QuestionType.FIB, questionText: "These are three pencil box_ _ .", correctAnswer: "es", explanation: "D·ªãch: ƒê√¢y l√† 3 c√°i h·ªôp b√∫t." },
        { id: 126, type: QuestionType.MC, questionText: "I ‚Ä¶ a blue pencil and a white ruler.", options: ["has", "have", "don‚Äôt have", "doesn‚Äôt have"], correctAnswer: "have", explanation: "D·ªãch: T√¥i c√≥ m·ªôt c√°i b√∫t ch√¨ xanh v√† m·ªôt c√°i th∆∞·ªõc tr·∫Øng." },
        { id: 127, type: QuestionType.MC, questionText: "How are you, Sandy? - ... .", options: ["I‚Äôm fine, thank", "Fine, thank", "Fine, thanks", "I fine, thank"], correctAnswer: "Fine, thanks", explanation: "D·ªãch: T·ªët, c·∫£m ∆°n." },
        { id: 128, type: QuestionType.MC, questionText: "Choose the odd one out:", options: ["black", "stand", "read", "listen"], correctAnswer: "black", explanation: "D·ªãch: Black l√† m√†u s·∫Øc, c√°c t·ª´ kh√°c l√† ƒë·ªông t·ª´." },
        { id: 129, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["your", "Open", "Peter.", "schoolbag,"], correctAnswer: "Open your schoolbag, Peter.", explanation: "D·ªãch: M·ªü c·∫∑p ra n√†o Peter." },
        { id: 130, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["They", "are", "dogs.", "small", "cats and"], correctAnswer: "They are small cats and dogs.", explanation: "D·ªãch: Ch√∫ng l√† nh·ªØng con m√®o v√† ch√≥ nh·ªè." },
        { id: 131, type: QuestionType.MC, questionText: "Pick ‚Ä¶ your pencil.", options: ["at", "up", "on", "for"], correctAnswer: "up", explanation: "D·ªãch: C·∫ßm b√∫t ch√¨ c·ªßa b·∫°n l√™n." },
        { id: 132, type: QuestionType.MC, questionText: "Choose the correct sentence.", options: ["I'm eight years old.", "I'm eight year old.", "He are a student.", "They is my friends."], correctAnswer: "I'm eight years old.", explanation: "D·ªãch: T√¥i t√°m tu·ªïi." },
        { id: 133, type: QuestionType.FIB, questionText: "What is _ _ _ name? ‚Äì He is Tony.", correctAnswer: "his", explanation: "D·ªãch: T√™n anh ·∫•y l√† g√¨?" },
        { id: 134, type: QuestionType.MC, questionText: "This is my ... house.", options: ["a new", "new", "news", "new‚Äôs"], correctAnswer: "new", explanation: "D·ªãch: ƒê√¢y l√† ng√¥i nh√† m·ªõi c·ªßa t√¥i." },
        { id: 135, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["these", "his pens and", "Are", "pencils?"], correctAnswer: "Are these his pens and pencils?", explanation: "D·ªãch: ƒê√¢y c√≥ ph·∫£i b√∫t m·ª±c v√† b√∫t ch√¨ c·ªßa anh ·∫•y kh√¥ng?" },
        { id: 136, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2018/11/30/636791921674656613_Audio.mp3", questionText: "I‚Äôm fine, ________.", options: ["thank", "thank you", "thanks", "thanks you"], correctAnswer: "thanks", explanation: "D·ªãch: T√¥i kh·ªèe, c·∫£m ∆°n." },
        { id: 137, type: QuestionType.FIB, questionText: "Bye. See you l_ _ _ r.", correctAnswer: "ate", explanation: "D·ªãch: T·∫°m bi·ªát. H·∫πn g·∫∑p l·∫°i sau." },
        { id: 138, type: QuestionType.FIB, questionText: "Let‚Äôs make a ci_ _ le.", correctAnswer: "rc", explanation: "D·ªãch: H√£y x·∫øp th√†nh m·ªôt v√≤ng tr√≤n." },
        { id: 139, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["Yes.", "are my", "new", "They", "books."], correctAnswer: "Yes. They are my new books.", explanation: "D·ªãch: V√¢ng. Ch√∫ng l√† nh·ªØng cu·ªën s√°ch m·ªõi c·ªßa t√¥i." },
        { id: 140, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2018/1/2/636504892016093437_Audio.mp3", questionText: "The boy loves ba_ _ _ _ _ on.", correctAnswer: "dmint", explanation: "D·ªãch: C·∫≠u b√© y√™u th√≠ch m√¥n c·∫ßu l√¥ng." },
        { id: 141, type: QuestionType.MC, questionText: "... up, students.", options: ["Sit", "Open", "Stand", "Read"], correctAnswer: "Stand", explanation: "D·ªãch: ƒê·ª©ng l√™n n√†o c√°c em h·ªçc sinh." },
        { id: 142, type: QuestionType.MC, questionText: "We sing many songs ... Music lessons.", options: ["to", "during", "so", "and"], correctAnswer: "during", explanation: "D·ªãch: Ch√∫ng t√¥i h√°t nhi·ªÅu b√†i trong gi·ªù √Çm nh·∫°c." },
        { id: 143, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["See", "you", "tomorrow,", "Peter."], correctAnswer: "See you tomorrow, Peter.", explanation: "D·ªãch: H·∫πn g·∫∑p l·∫°i v√†o ng√†y mai, Peter." },
        { id: 144, type: QuestionType.FIB, questionText: "These are green hat_ .", correctAnswer: "s", explanation: "D·ªãch: ƒê√¢y l√† nh·ªØng c√°i m≈© xanh." },
        { id: 145, type: QuestionType.FIB, questionText: "Hello, Mary. How _ _ _ you?", correctAnswer: "are", explanation: "D·ªãch: Xin ch√†o Mary. B·∫°n kh·ªèe kh√¥ng?" },
        { id: 146, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["are", "pencil boxes.", "There", "two"], correctAnswer: "There are two pencil boxes.", explanation: "D·ªãch: C√≥ hai h·ªôp b√∫t." },
        { id: 147, type: QuestionType.MC, questionText: "This is ... brother. His name is Richard.", options: ["I", "my", "me", "am"], correctAnswer: "my", explanation: "D·ªãch: ƒê√¢y l√† anh trai t√¥i." },
        { id: 148, type: QuestionType.FIB, questionText: "Clo_ _ your book, please.", correctAnswer: "se", explanation: "D·ªãch: H√£y ƒë√≥ng s√°ch l·∫°i." },
        { id: 149, type: QuestionType.FIB, questionText: "·∫¢nh: Does she have bl_ _ _ _ hair?", correctAnswer: "onde", explanation: "D·ªãch: C√¥ ·∫•y c√≥ m√°i t√≥c v√†ng hoe kh√¥ng?" },
        { id: 150, type: QuestionType.MC, questionText: "... morning, Simon!", options: ["But", "Good", "Shut", "Hi"], correctAnswer: "Good", explanation: "D·ªãch: Ch√†o bu·ªïi s√°ng Simon." },
        { id: 151, type: QuestionType.FIB, questionText: "W_ _ is he? ‚Äì He is my best friend.", correctAnswer: "ho", explanation: "D·ªãch: Anh ·∫•y l√† ai?" },
        { id: 152, type: QuestionType.MC, questionText: "What colour ... this? - It‚Äôs yellow.", options: ["it", "is", "that", "hi"], correctAnswer: "is", explanation: "D·ªãch: ƒê√¢y l√† m√†u g√¨? - M√†u v√†ng." },
        { id: 153, type: QuestionType.FIB, questionText: "Is that Linda? - _ _ , it isn't.", correctAnswer: "No", explanation: "D·ªãch: Kia l√† Linda √†? - Kh√¥ng ph·∫£i." },
        { id: 154, type: QuestionType.FIB, questionText: "·∫¢nh: _ _ _ _ _", correctAnswer: "green", explanation: "D·ªãch: M√†u xanh l√° c√¢y." },
        { id: 155, type: QuestionType.MC, questionText: "Hello. I ‚Ä¶ Mary.", options: ["is", "are", "am", "do"], correctAnswer: "am", explanation: "D·ªãch: Xin ch√†o. T√¥i l√† Mary." },
        { id: 156, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["your friend.", "say", "to", "‚ÄôHello!‚Äô", "Let‚Äôs"], correctAnswer: "Let‚Äôs say ‚ÄôHello!‚Äô to your friend.", explanation: "D·ªãch: H√£y ch√†o b·∫°n c·ªßa b·∫°n n√†o." },
        { id: 157, type: QuestionType.MC, questionText: "Odd one out:", options: ["You", "I", "Hi", "She"], correctAnswer: "Hi", explanation: "D·ªãch: Hi l√† l·ªùi ch√†o, c√°c t·ª´ kh√°c l√† ƒë·∫°i t·ª´ nh√¢n x∆∞ng." },
        { id: 158, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["kittens?", "What colour", "are your"], correctAnswer: "What colour are your kittens?", explanation: "D·ªãch: Nh·ªØng ch√∫ m√®o con c·ªßa b·∫°n m√†u g√¨?" },
        { id: 159, type: QuestionType.FIB, questionText: "Thank you very _ _ _ _ for your lovely birthday gift.", correctAnswer: "much", explanation: "D·ªãch: C·∫£m ∆°n b·∫°n r·∫•t nhi·ªÅu." },
        { id: 160, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206377131960084_Audio.mp3", questionText: "Listen and tick:", options: ["father teacher", "mother teacher", "father doctor", "brother teacher"], correctAnswer: "father doctor", explanation: "D·ªãch: B·ªë t√¥i l√† m·ªôt b√°c sƒ©." },
        { id: 161, type: QuestionType.FIB, questionText: "_ _ quiet, please.", correctAnswer: "Be", explanation: "D·ªãch: H√£y gi·ªØ tr·∫≠t t·ª±." },
        { id: 162, type: QuestionType.MC, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206300523501528_Audio.mp3", questionText: "She‚Äôs ... a kite.", options: ["making", "flying", "playing", "Drawing"], correctAnswer: "flying", explanation: "D·ªãch: C√¥ ·∫•y ƒëang th·∫£ di·ªÅu." },
        { id: 163, type: QuestionType.MC, questionText: "___________ do you do after school?", options: ["What", "Who", "How", "How old"], correctAnswer: "What", explanation: "D·ªãch: B·∫°n l√†m g√¨ sau gi·ªù h·ªçc?" },
        { id: 164, type: QuestionType.MC, questionText: "CLO__", options: ["SS", "SA", "SE", "EE"], correctAnswer: "SE", explanation: "D·ªãch: Close: ƒê√≥ng." },
        { id: 165, type: QuestionType.MC, questionText: "This is a blue ... white book.", options: ["and", "an", "a", "am"], correctAnswer: "and", explanation: "D·ªãch: ƒê√¢y l√† cu·ªën s√°ch m√†u xanh v√† tr·∫Øng." },
        { id: 166, type: QuestionType.MC, questionText: "It ... a green pencil.", options: ["am", "are", "is", "an"], correctAnswer: "is", explanation: "D·ªãch: N√≥ l√† m·ªôt c√°i b√∫t ch√¨ xanh." },
        { id: 167, type: QuestionType.FIB, questionText: "Circle the ans_ er.", correctAnswer: "s", explanation: "D·ªãch: H√£y khoanh tr√≤n ƒë√°p √°n." },
        { id: 168, type: QuestionType.MC, questionText: "·∫¢nh: Good _____!", options: ["afternoon", "evening", "night", "morning"], correctAnswer: "morning", explanation: "D·ªãch: Ch√†o bu·ªïi s√°ng." },
        { id: 169, type: QuestionType.FIB, questionText: "A: _ _ _ ‚Äôs it going? - B: Great. Thank you.", correctAnswer: "How", explanation: "D·ªãch: M·ªçi chuy·ªán th·∫ø n√†o r·ªìi?" },
        { id: 170, type: QuestionType.MC, questionText: "... are you? ‚Äì I‚Äôm fine, thanks.", options: ["Hi", "Hello", "How", "How‚Äôs"], correctAnswer: "How", explanation: "D·ªãch: B·∫°n kh·ªèe kh√¥ng?" },
        { id: 171, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["the", "words.", "down", "Copy"], correctAnswer: "Copy down the words.", explanation: "D·ªãch: Ch√©p l·∫°i nh·ªØng t·ª´ n√†y." },
        { id: 172, type: QuestionType.FIB, questionText: "Open the b_ _ k.", correctAnswer: "oo", explanation: "D·ªãch: M·ªü s√°ch ra." },
        { id: 173, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["volleyball", "or", "basketball?", "she like", "Does"], correctAnswer: "Does she like volleyball or basketball?", explanation: "D·ªãch: C√¥ ·∫•y th√≠ch b√≥ng chuy·ªÅn hay b√≥ng r·ªï?" },
        { id: 174, type: QuestionType.MC, questionText: "That is my school gym. ___ new.", options: ["Its", "It's is", "It's", "Its's"], correctAnswer: "It's", explanation: "D·ªãch: ƒê√≥ l√† ph√≤ng t·∫≠p c·ªßa tr∆∞·ªùng. N√≥ m·ªõi." },
        { id: 175, type: QuestionType.FIB, audioUrl: "https://res.ioe.vn/edu/EOlympic/ExamData/ImageExam/2013/11/21/635206393465500772_Audio.mp3", questionText: "My school _ _ _ is very long.", correctAnswer: "bus", explanation: "D·ªãch: Xe bu√Ωt tr∆∞·ªùng t√¥i r·∫•t d√†i." },
        { id: 176, type: QuestionType.FIB, questionText: "W_ _ _ _ on the board, please.", correctAnswer: "rite", explanation: "D·ªãch: H√£y vi·∫øt l√™n b·∫£ng." },
        { id: 177, type: QuestionType.FIB, questionText: "Look _ _ the blackboard, please.", correctAnswer: "at", explanation: "D·ªãch: H√£y nh√¨n l√™n b·∫£ng ƒëen." },
        { id: 178, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["big?", "your", "Is", "new", "school"], correctAnswer: "Is your new school big?", explanation: "D·ªãch: Tr∆∞·ªùng m·ªõi c·ªßa b·∫°n c√≥ to kh√¥ng?" },
        { id: 179, type: QuestionType.FIB, questionText: "·∫¢nh: _ AG", correctAnswer: "B", explanation: "D·ªãch: C√°i t√∫i/c·∫∑p." },
        { id: 180, type: QuestionType.FIB, questionText: "_ _ _ _ is the date today, Sam?", correctAnswer: "What", explanation: "D·ªãch: H√¥m nay l√† ng√†y m·∫•y, Sam?" },
        { id: 181, type: QuestionType.FIB, questionText: "_ _ _ ‚Äôt play football in the classroom.", correctAnswer: "Don", explanation: "D·ªãch: ƒê·ª´ng ch∆°i b√≥ng ƒë√° trong l·ªõp h·ªçc." },
        { id: 182, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["name", "Her", "Lisa.", "is"], correctAnswer: "Her name is Lisa.", explanation: "D·ªãch: T√™n c√¥ ·∫•y l√† Lisa." },
        { id: 183, type: QuestionType.MC, questionText: "They ____ a song in the classroom.", options: ["point", "read", "look", "sing"], correctAnswer: "sing", explanation: "D·ªãch: H·ªç h√°t m·ªôt b√†i h√°t trong l·ªõp h·ªçc." },
        { id: 184, type: QuestionType.FIB, questionText: "·∫¢nh: This is a _ _ _ _ .", correctAnswer: "kite", explanation: "D·ªãch: ƒê√¢y l√† m·ªôt con di·ªÅu." },
        { id: 185, type: QuestionType.FIB, questionText: "·∫¢nh: Is that a black _ _ _ _ ?", correctAnswer: "book", explanation: "D·ªãch: ƒê√≥ c√≥ ph·∫£i cu·ªën s√°ch ƒëen kh√¥ng?" },
        { id: 186, type: QuestionType.FIB, questionText: "I‚Äôm fine, thanks. _ _ d you?", correctAnswer: "An", explanation: "D·ªãch: T√¥i kh·ªèe, c·∫£m ∆°n. C√≤n b·∫°n?" },
        { id: 187, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["with", "play", "me.", "Let‚Äôs"], correctAnswer: "Let‚Äôs play with me.", explanation: "D·ªãch: H√£y ch∆°i v·ªõi t·ªõ n√†o." },
        { id: 188, type: QuestionType.MC, questionText: "Choose the odd one out", options: ["dog", "cat", "friend", "chicken"], correctAnswer: "friend", explanation: "D·ªãch: Friend l√† b·∫°n b√®, c√°c t·ª´ kh√°c l√† con v·∫≠t." },
        { id: 189, type: QuestionType.FIB, questionText: "Stand _ _ , please.", correctAnswer: "up", explanation: "D·ªãch: ƒê·ª©ng l√™n n√†o." },
        { id: 190, type: QuestionType.FIB, questionText: "Don't ma_ _ noise in class.", correctAnswer: "ke", explanation: "D·ªãch: ƒê·ª´ng l√†m ·ªìn trong l·ªõp." },
        { id: 191, type: QuestionType.FIB, questionText: "·∫¢nh: A _ ONG NECK", correctAnswer: "L", explanation: "D·ªãch: M·ªôt c√°i c·ªï d√†i." },
        { id: 192, type: QuestionType.FIB, questionText: "Is this yo_ _ book? - Yes, it is.", correctAnswer: "ur", explanation: "D·ªãch: ƒê√¢y c√≥ ph·∫£i s√°ch c·ªßa b·∫°n kh√¥ng?" },
        { id: 193, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["are", "kites", "beautiful.", "These"], correctAnswer: "These kites are beautiful.", explanation: "D·ªãch: Nh·ªØng con di·ªÅu n√†y th·∫≠t ƒë·∫πp." },
        { id: 194, type: QuestionType.FIB, questionText: "Can you he_ p me?", correctAnswer: "l", explanation: "D·ªãch: B·∫°n c√≥ th·ªÉ gi√∫p t√¥i kh√¥ng?" },
        { id: 195, type: QuestionType.FIB, questionText: "We _ _ _ pupils.", correctAnswer: "are", explanation: "D·ªãch: Ch√∫ng t√¥i l√† h·ªçc sinh." },
        { id: 196, type: QuestionType.FIB, questionText: "·∫¢nh: My school l_ _ _ ary is big.", correctAnswer: "ibr", explanation: "D·ªãch: Th∆∞ vi·ªán tr∆∞·ªùng t√¥i r·∫•t to." },
        { id: 197, type: QuestionType.MC, questionText: "Open ... books, please.", options: ["am", "I", "you", "your"], correctAnswer: "your", explanation: "D·ªãch: H√£y m·ªü s√°ch c·ªßa c√°c em ra." },
        { id: 198, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["Jane", "and Tim.", "are", "These"], correctAnswer: "These are Jane and Tim.", explanation: "D·ªãch: ƒê√¢y l√† Jane v√† Tim." },
        { id: 199, type: QuestionType.RE, questionText: "S·∫Øp x·∫øp c√¢u:", rearrangeParts: ["name?", "What's", "its"], correctAnswer: "What's its name?", explanation: "D·ªãch: T√™n n√≥ l√† g√¨?" },
        { id: 200, type: QuestionType.MC, questionText: "Can you ride a bicycle? - ... .", options: ["No, I can", "No, thanks", "Yes, I can", "Yes, I can‚Äôt"], correctAnswer: "Yes, I can", explanation: "D·ªãch: B·∫°n bi·∫øt ƒëi xe ƒë·∫°p kh√¥ng? - V√¢ng, t√¥i bi·∫øt." }
      ];

      const Button = ({ children, variant = 'primary', className = '', ...props }) => {
        const variants = {
          primary: "bg-blue-600 text-white shadow-md active:bg-blue-700",
          secondary: "bg-emerald-500 text-white shadow-md active:bg-emerald-600",
          danger: "bg-rose-500 text-white shadow-md active:bg-rose-600",
          outline: "bg-white border-2 border-slate-200 text-slate-600 active:bg-slate-50"
        };
        return <button className={`px-5 py-3 rounded-2xl font-black transition-all active:scale-95 disabled:opacity-30 ${variants[variant]} ${className}`} {...props}>{children}</button>;
      };

      const AudioPlayer = ({ src }) => {
        const audioRef = useRef(null);
        const [isPlaying, setIsPlaying] = useState(false);
        const toggle = () => {
          if (audioRef.current.paused) { audioRef.current.play(); setIsPlaying(true); }
          else { audioRef.current.pause(); setIsPlaying(false); }
        };
        return (
          <div className="flex items-center gap-3 bg-white p-1.5 rounded-2xl border border-slate-200 w-fit mb-4">
            <button onClick={toggle} className="w-12 h-12 flex items-center justify-center bg-blue-600 text-white rounded-xl shadow-lg">
              <span className="text-xl">{isPlaying ? '‚ùö‚ùö' : '‚ñ∂'}</span>
            </button>
            <div className="flex flex-col pr-1 leading-none">
              <span className="text-lg font-black text-slate-800 uppercase">LISTEN</span>
              <span className="text-[10px] font-bold text-slate-400">Speaker On</span>
            </div>
            <audio ref={audioRef} src={src} onEnded={() => setIsPlaying(false)} className="hidden" />
          </div>
        );
      };

      const QuestionCard = ({ question, onAnswer, isAnswered, userAnswer }) => {
        const [inputVal, setInputVal] = useState('');
        const [selectedParts, setSelectedParts] = useState([]);
        const [showHint, setShowHint] = useState(false);
        
        const normalize = (s) => s ? s.replace(/[.,!?;:'"()]/g, '').replace(/\s+/g, ' ').trim().toLowerCase() : "";
        const isCorrect = userAnswer && normalize(userAnswer) === normalize(question.correctAnswer);

        useEffect(() => { setInputVal(''); setSelectedParts([]); setShowHint(false); }, [question.id]);

        const handleKeyDown = (e) => {
          if (e.key === 'Enter' && !isAnswered) {
            if (question.type === QuestionType.FIB && inputVal.trim()) onAnswer(inputVal.trim());
            else if (question.type === QuestionType.RE && selectedParts.length > 0) onAnswer(selectedParts.join(' '));
          }
        };

        const getHint = () => {
          const firstChar = question.correctAnswer.charAt(0).toUpperCase();
          const vnMeaning = question.explanation.match(/D·ªãch:\s*([^.]*)/)?.[1] || "";
          return { firstChar, vnMeaning };
        };

        return (
          <div className="w-full max-w-2xl mx-auto animate-fade-in">
            <div className="bg-white rounded-[2.5rem] shadow-xl overflow-hidden border border-slate-200 p-6">
              <div className="flex justify-between items-center mb-4">
                <span className="px-3 py-1 bg-blue-100 text-blue-700 rounded-xl text-xs font-black uppercase tracking-widest">{question.type}</span>
                {!isAnswered && (
                  <button onClick={() => setShowHint(!showHint)} className="text-xs font-black bg-amber-50 text-amber-700 px-3 py-1 rounded-lg border border-amber-100">üí° {showHint ? '·∫®N G·ª¢I √ù' : 'XEM G·ª¢I √ù'}</button>
                )}
              </div>

              {question.audioUrl && <AudioPlayer src={question.audioUrl} />}
              
              {showHint && !isAnswered && (
                <div className="mb-4 bg-amber-50 p-4 rounded-2xl border border-amber-100 text-amber-900 animate-slide-up">
                  <p className="font-bold text-lg">üî§ K√Ω t·ª± ƒë·∫ßu: <span className="font-black text-xl">"{getHint().firstChar}"</span></p>
                  {getHint().vnMeaning && <p className="font-bold text-lg mt-1">üáªüá≥ Nghƒ©a: <span className="italic">{getHint().vnMeaning}</span></p>}
                </div>
              )}

              <h2 className="text-3xl sm:text-4xl font-black text-slate-800 mb-8 leading-tight text-center sm:text-left">{question.questionText}</h2>

              {question.type === QuestionType.MC && (
                <div className="grid grid-cols-1 gap-3">
                  {question.options.map((opt, idx) => {
                    let style = "bg-white border-slate-100 hover:border-blue-500";
                    if (isAnswered) {
                      if (normalize(opt) === normalize(question.correctAnswer)) style = "bg-emerald-50 border-emerald-500 text-emerald-900 ring-4 ring-emerald-100";
                      else if (normalize(opt) === normalize(userAnswer)) style = "bg-rose-50 border-rose-500 text-rose-900 ring-4 ring-rose-100";
                      else style = "bg-slate-50 opacity-40";
                    }
                    return (
                      <button key={idx} onClick={() => !isAnswered && onAnswer(opt)} disabled={isAnswered} className={`w-full p-4 rounded-2xl text-left border-2 transition-all flex items-center gap-4 ${style}`}>
                        <span className={`font-black w-10 h-10 rounded-xl flex items-center justify-center text-xl ${isAnswered && normalize(opt) === normalize(question.correctAnswer) ? 'bg-emerald-500 text-white' : 'bg-slate-100 text-slate-500'}`}>{String.fromCharCode(65+idx)}</span>
                        <span className="flex-1 font-black text-xl">{opt}</span>
                      </button>
                    );
                  })}
                </div>
              )}

              {question.type === QuestionType.FIB && (
                <div className="space-y-4">
                  <input type="text" autoFocus value={isAnswered ? userAnswer : inputVal} onChange={(e) => setInputVal(e.target.value)} onKeyDown={handleKeyDown} disabled={isAnswered} placeholder="NH·∫¨P T·ª™ C√íN THI·∫æU..." className={`w-full p-5 rounded-3xl border-4 text-4xl font-black text-center outline-none ${isAnswered ? (isCorrect ? 'border-emerald-500 bg-emerald-50' : 'border-rose-500 bg-rose-50') : 'border-slate-100 bg-slate-50 focus:border-blue-500'}`} />
                  {!isAnswered && <Button onClick={() => inputVal.trim() && onAnswer(inputVal.trim())} className="w-full text-xl py-5 !rounded-3xl shadow-xl">X√ÅC NH·∫¨N (ENTER)</Button>}
                </div>
              )}

              {question.type === QuestionType.RE && (
                <div className="space-y-4">
                  <div className="flex flex-wrap gap-2 p-4 bg-slate-50 rounded-2xl border border-slate-200 justify-center min-h-[80px]">
                    {question.rearrangeParts.map((p, idx) => (
                      <button key={idx} onClick={() => !isAnswered && (selectedParts.includes(p) ? setSelectedParts(selectedParts.filter(x => x!==p)) : setSelectedParts([...selectedParts, p]))} disabled={isAnswered || selectedParts.includes(p)} className={`px-4 py-2 rounded-xl bg-white border-2 font-black text-lg shadow-sm active:scale-90 ${selectedParts.includes(p) ? 'opacity-20 border-dashed' : 'hover:border-blue-500'}`}>{p}</button>
                    ))}
                  </div>
                  <div className={`min-h-[100px] p-4 rounded-3xl border-4 border-dashed flex flex-wrap gap-2 justify-center items-center ${isAnswered ? (isCorrect ? 'border-emerald-500 bg-emerald-50' : 'border-rose-500 bg-rose-50') : 'border-slate-200'}`}>
                    {selectedParts.length === 0 && !isAnswered && <span className="text-slate-300 font-black italic">B·∫•m ch·ªçn c√°c t·ª´ b√™n tr√™n...</span>}
                    {selectedParts.map((p, idx) => (
                      <button key={idx} onClick={() => !isAnswered && setSelectedParts(selectedParts.filter(x => x!==p))} disabled={isAnswered} className="bg-blue-600 text-white px-4 py-2 rounded-xl font-black text-lg shadow-lg ring-4 ring-blue-50">{p}</button>
                    ))}
                  </div>
                  {!isAnswered && (
                    <div className="flex gap-2">
                      <Button onClick={() => setSelectedParts([])} variant="outline" className="px-8 text-lg">X√ìA</Button>
                      <Button onClick={() => selectedParts.length > 0 && onAnswer(selectedParts.join(' '))} className="flex-1 text-xl shadow-xl">X√ÅC NH·∫¨N (ENTER)</Button>
                    </div>
                  )}
                </div>
              )}

              {isAnswered && (
                <div className={`mt-6 p-5 rounded-3xl border-l-[12px] shadow-xl animate-fade-in ${isCorrect ? 'bg-emerald-50 border-emerald-500' : 'bg-rose-50 border-rose-500'}`}>
                  <div className="flex gap-4 items-start">
                    <div className={`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 text-white text-3xl font-black shadow-lg ${isCorrect ? 'bg-emerald-500' : 'bg-rose-500'}`}>{isCorrect ? '‚úì' : '‚úï'}</div>
                    <div>
                      <h3 className={`font-black text-2xl mb-1 ${isCorrect ? 'text-emerald-800' : 'text-rose-800'}`}>{isCorrect ? 'XU·∫§T S·∫ÆC!' : 'SAI R·ªíI!'}</h3>
                      {!isCorrect && <div className="mb-2 p-2 bg-white/80 rounded-xl"><p className="text-[10px] font-black text-rose-400 uppercase tracking-widest">ƒê√ÅP √ÅN ƒê√öNG:</p><p className="font-black text-slate-900 text-xl">{question.correctAnswer}</p></div>}
                      <p className="text-base font-bold text-slate-600 leading-snug"><span className="font-black text-blue-600 uppercase text-xs mr-2">GI·∫¢I TH√çCH:</span>{question.explanation}</p>
                    </div>
                  </div>
                </div>
              )}
            </div>
          </div>
        );
      };

      const ResultScreen = ({ userName, userAnswers, onRetryAll, onRetryWrong }) => {
        const correct = userAnswers.filter(a => a.isCorrect).length;
        const total = 200;
        const attempted = userAnswers.length;
        const percent = Math.round((correct / attempted) * 100) || 0;
        const wrongList = userAnswers.filter(a => !a.isCorrect);

        return (
          <div className="min-h-screen bg-slate-100 p-4 py-10 flex flex-col items-center overflow-y-auto custom-scrollbar">
            <div className="bg-white rounded-[3rem] shadow-2xl p-10 max-w-2xl w-full text-center border-4 border-white mb-8 animate-fade-in">
              <div className="text-7xl font-black text-blue-600 mb-2">{percent}%</div>
              <h2 className="text-3xl font-black text-slate-800 mb-8 uppercase">HO√ÄN TH√ÄNH B√ÄI √îN!</h2>
              <div className="grid grid-cols-2 gap-4 mb-10">
                <div className="bg-emerald-50 p-6 rounded-3xl border-2 border-emerald-100"><div className="text-5xl font-black text-emerald-600">{correct}</div><div className="text-xs font-black text-emerald-700 tracking-widest uppercase">C√¢u ƒë√∫ng</div></div>
                <div className="bg-rose-50 p-6 rounded-3xl border-2 border-rose-100"><div className="text-5xl font-black text-rose-500">{attempted - correct}</div><div className="text-xs font-black text-rose-700 tracking-widest uppercase">C√¢u sai</div></div>
              </div>
              <div className="flex flex-col sm:flex-row gap-3">
                <Button onClick={onRetryAll} className="flex-1 text-2xl py-5 !rounded-3xl">L√ÄM L·∫†I T·∫§T C·∫¢</Button>
                {wrongList.length > 0 && <Button onClick={onRetryWrong} variant="danger" className="flex-1 text-2xl py-5 !rounded-3xl">√îN L·∫†I C√ÇU SAI</Button>}
              </div>
            </div>

            {wrongList.length > 0 && (
              <div className="w-full max-w-2xl animate-slide-up">
                <h3 className="text-xl font-black text-slate-700 mb-4 px-4 uppercase tracking-tight flex items-center gap-2"><span className="text-rose-500">‚ùå</span> XEM L·∫†I C√ÅC C√ÇU SAI:</h3>
                <div className="space-y-4">
                  {wrongList.map((ans, i) => {
                    const q = QUIZ_DATA.find(x => x.id === ans.questionId);
                    return (
                      <div key={i} className="bg-white p-6 rounded-[2rem] border-2 border-rose-100 shadow-lg">
                        <div className="mb-2"><span className="text-xs font-black bg-rose-100 text-rose-700 px-3 py-1 rounded-lg uppercase">C√¢u #{q.id}</span></div>
                        <p className="text-xl font-black text-slate-800 mb-4">{q.questionText}</p>
                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4">
                          <div className="p-3 bg-rose-50/50 rounded-2xl border border-rose-100"><p className="text-[10px] font-black text-rose-400 uppercase tracking-widest mb-1">B·∫†N CH·ªåN:</p><p className="text-lg font-black text-rose-900">{ans.userResponse || "(B·ªè tr·ªëng)"}</p></div>
                          <div className="p-3 bg-emerald-50 rounded-2xl border border-emerald-100"><p className="text-[10px] font-black text-emerald-400 uppercase tracking-widest mb-1">ƒê√ÅP √ÅN ƒê√öNG:</p><p className="text-lg font-black text-emerald-900">{q.correctAnswer}</p></div>
                        </div>
                        <div className="p-4 bg-blue-50/50 rounded-2xl border border-blue-100">
                          <p className="text-sm font-bold text-slate-700 leading-relaxed"><span className="text-blue-600 font-black uppercase text-xs mr-2">GI·∫¢I TH√çCH:</span>{q.explanation}</p>
                        </div>
                      </div>
                    );
                  })}
                </div>
              </div>
            )}
          </div>
        );
      };

      const App = () => {
        const [gameState, setGameState] = useState(GameState.START);
        const [userName, setUserName] = useState('');
        const [activeQuestions, setActiveQuestions] = useState(QUIZ_DATA);
        const [currentIndex, setCurrentIndex] = useState(0);
        const [userAnswers, setUserAnswers] = useState([]);
        const [showGrid, setShowGrid] = useState(false);

        const handleAnswer = (response) => {
          const q = activeQuestions[currentIndex];
          const isCorrect = response.toLowerCase().replace(/[.,!?]/g, '').trim() === q.correctAnswer.toLowerCase().replace(/[.,!?]/g, '').trim();
          setUserAnswers(prev => [...prev.filter(a => a.questionId !== q.id), { questionId: q.id, userResponse: response, isCorrect }]);
        };

        if (gameState === GameState.START) return (
          <div className="min-h-screen flex items-center justify-center bg-blue-600 p-4">
            <div className="bg-white rounded-[3rem] shadow-2xl p-10 max-w-md w-full text-center animate-slide-up">
              <h1 className="text-5xl font-black text-slate-800 mb-3 tracking-tighter">IOE K3</h1>
              <p className="text-slate-400 font-black mb-8 uppercase tracking-[0.2em] text-xs">B·ªô ƒë·ªÅ 11 (200 c√¢u)</p>
              <form onSubmit={(e) => { e.preventDefault(); userName.trim() && setGameState(GameState.PLAYING); }} className="space-y-5">
                <input type="text" value={userName} onChange={(e) => setUserName(e.target.value)} placeholder="T√äN C·ª¶A B·∫†N" required className="w-full px-6 py-5 rounded-3xl border-4 border-slate-100 text-3xl font-black text-center outline-none focus:border-blue-500 uppercase" />
                <Button type="submit" className="w-full text-2xl py-5 !rounded-3xl shadow-blue-500/40">B·∫ÆT ƒê·∫¶U CH∆†I</Button>
              </form>
            </div>
          </div>
        );

        if (gameState === GameState.FINISHED) return <ResultScreen userName={userName} userAnswers={userAnswers} onRetryAll={() => { setActiveQuestions(QUIZ_DATA); setCurrentIndex(0); setUserAnswers([]); setGameState(GameState.PLAYING); }} onRetryWrong={() => { const wrongIds = userAnswers.filter(a => !a.isCorrect).map(a => a.questionId); setActiveQuestions(QUIZ_DATA.filter(q => wrongIds.includes(q.id))); setCurrentIndex(0); setUserAnswers([]); setGameState(GameState.PLAYING); }} />;

        const currentQ = activeQuestions[currentIndex];
        const ans = userAnswers.find(a => a.questionId === currentQ.id);

        return (
          <div className="min-h-screen bg-slate-50 flex flex-col items-center p-4 pb-32">
            <div className="w-full max-w-2xl flex justify-between items-center bg-white p-4 rounded-3xl shadow-sm border mb-4">
              <div className="flex items-center gap-3">
                <div className="bg-blue-600 text-white w-10 h-10 rounded-xl flex items-center justify-center font-black">üë§</div>
                <p className="text-lg font-black text-slate-800 uppercase">{userName}</p>
              </div>
              <div className="flex gap-4 items-center">
                <div className="text-center"><p className="text-[10px] font-black text-slate-400 uppercase">C√¢u h·ªèi</p><p className="text-2xl font-black text-blue-600">{currentIndex + 1}/{activeQuestions.length}</p></div>
              </div>
              <button onClick={() => setShowGrid(true)} className="px-4 py-2 bg-slate-100 rounded-xl text-xs font-black hover:bg-slate-200">üìã DANH S√ÅCH</button>
            </div>
            
            <QuestionCard question={currentQ} onAnswer={handleAnswer} isAnswered={!!ans} userAnswer={ans?.userResponse} />

            <div className="fixed bottom-0 left-0 right-0 p-4 bg-white/80 backdrop-blur-md border-t flex justify-center z-50">
              <div className="w-full max-w-2xl flex gap-3">
                <Button onClick={() => setCurrentIndex(Math.max(0, currentIndex - 1))} variant="outline" disabled={currentIndex === 0} className="!px-6">‚Üê</Button>
                {ans ? (
                  <Button onClick={() => currentIndex === activeQuestions.length - 1 ? setGameState(GameState.FINISHED) : setCurrentIndex(currentIndex+1)} className="flex-1 text-xl animate-bounce-short">{currentIndex === activeQuestions.length - 1 ? 'N·ªòP B√ÄI ‚úî' : 'C√ÇU TI·∫æP THEO ‚Üí'}</Button>
                ) : (
                  <div className="flex-1 flex gap-2">
                    <Button onClick={() => setCurrentIndex(Math.min(activeQuestions.length-1, currentIndex+1))} variant="outline" className="flex-1 text-slate-400">B·ªé QUA</Button>
                    <Button onClick={() => window.confirm("N·ªôp b√†i ngay?") && setGameState(GameState.FINISHED)} variant="danger" className="flex-1">K·∫æT TH√öC</Button>
                  </div>
                )}
                <Button onClick={() => setCurrentIndex(Math.min(activeQuestions.length-1, currentIndex+1))} variant="outline" disabled={currentIndex === activeQuestions.length-1 || !!ans} className="!px-6">‚Üí</Button>
              </div>
            </div>

            {showGrid && (
              <div className="fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in">
                <div className="bg-white rounded-[2rem] w-full max-w-2xl max-h-[80vh] flex flex-col p-6 animate-slide-up">
                  <div className="flex justify-between mb-4"><h2 className="text-xl font-black uppercase">DANH S√ÅCH C√ÇU H·ªéI</h2><button onClick={() => setShowGrid(false)} className="font-black text-xl">‚úï</button></div>
                  <div className="flex-1 overflow-y-auto grid grid-cols-5 sm:grid-cols-10 gap-2 custom-scrollbar">
                    {activeQuestions.map((q, idx) => {
                      const a = userAnswers.find(x => x.questionId === q.id);
                      let color = "bg-slate-100 text-slate-400";
                      if (idx === currentIndex) color = "ring-4 ring-blue-500 bg-white text-blue-600";
                      else if (a) color = a.isCorrect ? "bg-emerald-500 text-white" : "bg-rose-500 text-white";
                      return <button key={q.id} onClick={() => { setCurrentIndex(idx); setShowGrid(false); }} className={`h-10 rounded-lg font-black text-sm transition-all ${color}`}>{q.id}</button>;
                    })}
                  </div>
                </div>
              </div>
            )}
          </div>
        );
      };

      ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
